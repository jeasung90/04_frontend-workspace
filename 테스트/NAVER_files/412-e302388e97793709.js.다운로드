(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[412],{98412:function(t,n,e){"use strict";e.d(n,{Z:function(){return y}});var r=e(94275),o=e(77073),i=e(63081),s=e.n(i),a=(e(7243),e(61398),e(25849),e(75686),e(36038),e(51963),e(53371),e(9554),e(64069),e(41649)),u=e.n(a),c=e(72139),l=e.n(c),d=e(81394),f=e(89703),p=e(83348),m=e(18627),C=e(96402),v=e(30627),h=e.n(v),x=e(91661),g=e(5961),S=e(9497),E=e(92769),L=e(84589),U=e(2891),T=e(62676),b=e(76314),I=e(89668),_=e(49456),M=e(6219),q=e(20348),w=e(86025);l().extend(w);var k=u().bind(h());function y(t){var n=t.adType,e=t.shoppingData,i=t.brandShopData,a=t.mallNameLinkData,u=t.focusItemData,c=t.newsData,v=t.todayPickData,h=t.title,w=t.bridgeUrl,y=(0,g.h)(1,e.length),D=y.totalPages,z=y.page,Z=y.next,A=y.prev,j=y.index,N=y.isLast,O=(0,g.s)(null),B=O.cartCount,H=O.orderCount,P=O.countFormat,F=O.isSingleDigit,Y=(0,L.Z)().isDarkMode,K=(0,f.useState)([]),R=K[0],V=K[1],W=(0,f.useState)([]),$=W[0],G=W[1],J=(0,f.useState)([]),Q=J[0],X=J[1],tt=(0,f.useState)(0),nt=tt[0],et=tt[1],rt=(0,f.useState)(0),ot=rt[0],it=rt[1],st=(0,p.FV)(M.Y.showHotItemLayer),at=(0,o.default)(st,2),ut=at[0],ct=at[1],lt=(0,f.useState)(null),dt=lt[0],ft=lt[1],pt=(0,d.useRouter)(),mt=(0,S.Z)().isLogin,Ct=(0,f.useState)(0),vt=(Ct[0],Ct[1],(0,E.Z)()),ht=vt.isExistZoomItemExposeUrl,xt=vt.convertExposeUrl,gt=vt.convertZoomItemMallExposeUrl,St=vt.convertZoomItemCntsExposeUrl,Et=vt.mergeExposeUrlList,Lt=vt.mergeZoomItemExposeUrlList;(0,f.useEffect)((function(){X(a.map((function(t){return(0,m.l$)(t,1)})))}),[]),(0,f.useEffect)((function(){var t="";window&&(t=window.location.origin);var n=t.includes("shopsquare")?"":x.k.getConfig().proxyPath;(0,_.rj)(mt,(function(){return pt.push("".concat(n,"/plusdeal"))}))}),[mt]),(0,f.useEffect)((function(){if(e[j]&&V(e[j].filter((function(t){return null!==t.contentsList})).map((function(t){return t.contentsList.filter((function(t){return t.benefitTypes.length>0})).map((function(t){return t.adCntsSeq}))})).flatMap((function(t){return t})).sort((function(){return Math.random()-.5})).slice(0,3)),i.length>0){var t=i[j%i.length].contentsList.filter((function(t){return""!==t.adCntsDesc2&&"0"!==t.adCntsDesc2})).map((function(t){return t.adCntsSeq})).sort((function(){return Math.random()-.5})).slice(0,2);G(t)}Tt()}),[z]);var Ut=function(t){return $.includes(t)},Tt=function(){var t=(0,r.default)(s().mark((function t(){var r,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],e.length>0&&(r=r.concat(e[j].map((function(t){return t.contentsList})).flatMap((function(t){return t})).map((function(t,e){return{adCntsSeq:null===t||void 0===t?void 0:t.adCntsSeq,bizCd:null===t||void 0===t?void 0:t.bizCd,inflowCd:b.d[n].HOT_ITEM,expsTrtrCd:T.m[n]["HOT_ITEM_".concat(e+1)]}})))),v.length>0&&(r=r.concat(v[j%v.length].contentsList.map((function(t,e){return{adCntsSeq:null===t||void 0===t?void 0:t.adCntsSeq,bizCd:null===t||void 0===t?void 0:t.bizCd,inflowCd:b.d[n].TODAY_PICK,expsTrtrCd:T.m[n].TODAY_PICK}})))),It()&&(r=r.concat(u[qt()].contentsList.map((function(t,e){return{adCntsSeq:null===t||void 0===t?void 0:t.adCntsSeq,bizCd:null===t||void 0===t?void 0:t.bizCd,inflowCd:b.d[n].FOCUS_TEM,expsTrtrCd:T.m[n].FOCUS_TEM}})))),bt()&&(r=r.concat(a.flatMap((function(t){return t})).map((function(t){return t.contentsList})).flatMap((function(t){return t})).map((function(t,e){return{adCntsSeq:null===t||void 0===t?void 0:t.adCntsSeq,bizCd:null===t||void 0===t?void 0:t.bizCd,inflowCd:b.d[n].MALL_NAME_LINK,expsTrtrCd:T.m[n].MALL_NAME_LINK}})))),_t()&&(r=r.concat(c[0].contentsList.map((function(t,e){return{adCntsSeq:null===t||void 0===t?void 0:t.adCntsSeq,bizCd:null===t||void 0===t?void 0:t.bizCd,inflowCd:b.d[n].NEWS,expsTrtrCd:T.m[n]["NEWS_".concat(e+1)]}})))),Mt()&&(r=r.concat(i[j%i.length].contentsList.map((function(t,e){return{adCntsSeq:null===t||void 0===t?void 0:t.adCntsSeq,bizCd:null===t||void 0===t?void 0:t.bizCd,inflowCd:b.d[n].BRAND_SHOP,expsTrtrCd:T.m[n]["BRAND_SHOP_".concat(t.adCntsOrd)]}})))),t.next=9,U.K.BY_ITEMS(r,null);case 9:o=t.sent,Et(o);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),bt=function(){return!_t()&&!Mt()&&a.length>0},It=function(){return!_t()&&!Mt()&&u.length>0},_t=function(){return z===D&&c.length>0&&c[0].contentsList.length>=6},Mt=function(){return i.length>0&&i[j%i.length]&&z>1},qt=function(){return l()().isBetween(l()("2023-07-14 00:00:00"),l()("2023-07-16 23:59:59"))?1:Math.floor(j/3)},wt=function(){var t=(0,r.default)(s().mark((function t(r,o){var i,a,u,c,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=(o%2>0?o-1:o)/2,et(o),it(i),ut&&r?(kt(),ct(!1),setTimeout((function(){ct(r)}),300)):ct(r),!(a=e[j][o])){t.next=13;break}return u=a.contentsList[0],c=(c=[{adCntsSeq:null===u||void 0===u?void 0:u.adCntsSeq,bizCd:null===u||void 0===u?void 0:u.bizCd,inflowCd:b.d[n].HOT_ITEM,expsTrtrCd:T.m[n]["HOT_ITEM_ZOOM_".concat(o+1)],redirectUrl:null===u||void 0===u?void 0:u.adCntsUrl2}]).filter((function(t){return!ht(t.adCntsSeq)})),t.next=11,U.K.BY_ITEMS(c,null);case 11:(l=t.sent).length>0&&Lt(l[0]);case 13:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),kt=function(){dt&&clearTimeout(dt)};return(0,q.jsxs)(q.Fragment,{children:[v.length>0&&v[j%v.length]&&(0,q.jsx)(C.Y8,{adType:n,convertExposeUrl:xt,item:v[j%v.length],totalPages:D,page:z,next:function(t){I.t.click(t,I.t.shoppingblock[n].itemnext2),Z(t),ct(!1)},prev:function(t){I.t.click(t,I.t.shoppingblock[n].itemprev2),A(t),ct(!1)},isDarkMode:Y}),(0,q.jsxs)("div",{className:k("commerce_area"),role:"tabpanel",children:[e.length>0&&(0,q.jsx)(C.UM,{page:z,adType:n,convertExposeUrl:xt,convertZoomItemMallExposeUrl:gt,convertZoomItemCntsExposeUrl:St,items:e[j],isLast:N,isActiveLabel:function(t){return R.includes(t)},hotItemIndex:nt,hotItemLayerIndex:ot,showHotItemLayer:ut,handleHotItemLayer:wt,bridgeUrl:w,onMouseEnterHotItemLayer:kt,onMouseLeaveHotItemLayer:function(){ft(setTimeout((function(){ct(!1),ft(null)}),1e3))},showLayerABTest:function(){var t=l()("2023-05-25 00:00:00"),n=l()("2023-05-25 23:59:59");return!l()().isBetween(t,n)}}),(0,q.jsx)("div",{className:k("shopping_desc"),children:function(){if(_t())return(0,q.jsx)(C.Sq,{page:z,adType:n,convertExposeUrl:xt,board:c[0]});if(Mt())return(0,q.jsx)(C.DN,{page:z,adType:n,convertExposeUrl:xt,item:i[j%i.length],index:j-1,isDarkMode:Y,showDiscountLabel:Ut});var t=qt();return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(C.$8,{adType:n,convertExposeUrl:xt,items:a,boldIndexList:Q}),(0,q.jsx)(C.tk,{adType:n,cartCount:B,orderCount:H,countFormat:P,isSingleDigit:F}),u&&u.length>0&&("C"===u[qt()].brdTpCd?(0,q.jsx)(C.D0,{adType:n,convertExposeUrl:xt,item:u[t]}):(0,q.jsx)(C.xC,{adType:n,convertExposeUrl:xt,item:u[t]}))]})}()})]}),(0,q.jsx)(C.tl,{totalPages:D,page:z,next:function(t){I.t.click(t,I.t.shoppingblock[n].itemnext),Z(t),ct(!1)},prev:function(t){I.t.click(t,I.t.shoppingblock[n].itemprev),A(t),ct(!1)},title:h,showAdTag:!0})]})}},92769:function(t,n,e){"use strict";e.d(n,{Z:function(){return s}});var r=e(77073),o=(e(35573),e(10249),e(88826),e(83197),e(9833),e(46338),e(64069),e(9554),e(61398),e(25849),e(7243),e(83348)),i=e(6219);function s(){var t=(0,o.FV)(i.Y.exposeUrlListState),n=(0,r.default)(t,2),e=n[0],s=n[1];return{isExistExposeUrl:function(t){return e.filter((function(n){return 1*n.adCntsSeq===1*t})).length>0},isExistZoomItemExposeUrl:function(t){return e.filter((function(n){return 1*n.zoom_adCntsSeq===1*t})).length>0},convertExposeUrl:function(t,n){var r=e.find((function(n){return 1*n.adCntsSeq===1*t}));return r?r.adCntsUrl:n},convertZoomItemMallExposeUrl:function(t,n){var r=e.find((function(n){return 1*n.zoom_adCntsSeq===1*t}));return r?r.mallUrl:n},convertZoomItemCntsExposeUrl:function(t,n){var r=e.find((function(n){return 1*n.zoom_adCntsSeq===1*t}));return r?r.cntsUrl:n},mergeExposeUrlList:function(t){s(e.filter((function(n){return t.map((function(t){return t.adCntsSeq})).includes(n.adCntsSeq)})).concat(t))},mergeZoomItemExposeUrlList:function(t){var n=new URL(t.adCntsUrl);n.searchParams.delete("ru");var r=t.adCntsUrl,o=n.href;s(e.concat([{zoom_adCntsSeq:t.adCntsSeq,mallUrl:r,cntsUrl:o}]))}}}},86025:function(t){t.exports=function(){"use strict";return function(t,n,e){n.prototype.isBetween=function(t,n,r,o){var i=e(t),s=e(n),a="("===(o=o||"()")[0],u=")"===o[1];return(a?this.isAfter(i,r):!this.isBefore(i,r))&&(u?this.isBefore(s,r):!this.isAfter(s,r))||(a?this.isBefore(i,r):!this.isAfter(i,r))&&(u?this.isAfter(s,r):!this.isBefore(s,r))}}}()}}]);