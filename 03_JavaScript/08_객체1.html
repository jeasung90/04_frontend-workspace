<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>객체1</title>
    <style>
        .area{
            background-color: lightgray;
            border: 1px solid;
            width: 200px;
        }
        .small{height: 100px ;}
        .big{height: 300px;}
    </style>
</head>
<body>
    
    <h3>* 객체 선언 및 사용</h3>
    <p>
        객체는 중괄호{}를 사용해서 생성하고, <br>
        중괄호 안에 이 객체에서 필요한 속성(property)들을 정의함 <br>
        속성명:속성값의 형태로 정의함 (키:밸류) <br>
        속성값으로는 모든 자료형의 값을 담을 수 있음
    </p>

    <PRE>
        변수 = {
            속성명:속성값,
            속성명:속성값,
            ....
        }
    </PRE>

    <button onclick="test1();">실행화긴</button>
    <div id="area1" class="area big"></div>

    <script>
        function test1() {
            const arr = ["Dry Mango",4000,"pickle",["mango","sugar"]];
            // 자바스크립트에서 배열 == 자바에서의 컬렉션(ArrayList)과 유사

            const product = {
                pName:"Dry Mango",
                price:4000,
                "kind":"pickle",
                indgredient:["mango","sugar"]
            };
            // 자바스크립트에서의 객체 == 자바에서의 컬렉션(HashMap)

            console.log(product);
            console.log(typeof(product));

            const area1 = document.getElementById("area1");
            area1.innerHTML += "product : "+ product + "<br>"; // toString() 자동으로 호출 => 재정의 가능
            // 객체의 속성에 접근하는 방법
            // 1. 대괄호를 이용하는 방법 : 객체명["속성명"]
            area1.innerHTML += "<b>객체명['속성명']으로 접근하기</b> <br>";
            area1.innerHTML += "pName : " +product["pName"] + "<br>";
            area1.innerHTML += "price : " +product["price"] + "<br>";
            area1.innerHTML += "kind : " +product["kind"] + "<br>";
            area1.innerHTML += "indgredient : " +product["indgredient"] + "<br>";
            area1.innerHTML += "indgredient[0] : " +product["indgredient"][0] + "<br>";
            // 2. .을 이용하는 방법 : 객체명.속성명
            area1.innerHTML += "<b>객체명.속성명으로 접근하기</b> <br>";
            area1.innerHTML += "pName : " +product.pName + "<br>";
            area1.innerHTML += "price : " +product.price + "<br>";
            area1.innerHTML += "kind : " +product.kind + "<br>";
            area1.innerHTML += "indgredient : " +product.indgredient + "<br>";
            area1.innerHTML += "indgredient[1] : " +product.indgredient[1] + "<br>";
        }
    </script>

    <br>

    <h3>* 객체 생성시 특이 케이스 (속석명 제시시 반드시 문자열 형태로 해야되는 케이스)</h3>

    <button onclick="test2();">실행화긴</button>
    <div id="area2" class="area small"></div>

    <script>
        function test2() {
            const user = {
                "user name":"문동은",
                "age!!":20,
            };
            //  속성명에 공백이나 특수문자가 포함될 경우 반드시 문자열로 묶어야됨

            console.log(user);

            const area2 = document.getElementById("area2");
            
            // .을 이용 => 객체명.속석명 불가능!!
            // area2.innerHTML += user.user;
            // area2.innerHTML += user.age!!;

            // 대괄호를 이용하는 방법 : 객체명["속성명"]
            area2.innerHTML +="이름 : "+ user["user name"] + "<br>";
            area2.innerHTML +="나이 : "+ user["age!!"] + "<br>";
        }
    </script>

    <hr>
    
    <h3>* 개체에서의 반복문</h3>
    <p>
        객체가 가지고 있는 모든 속성들에 순차적으로 접근하고자 한다면 반복문 제시 가능 <br>
        단, 단순한 for loop로는 불가능 ,for in문만 사용 가능
    </p>

    <button onclick="test3();">실행</button>
    <div id="area3" class="area small"></div>

    <script>
        function test3() {
            const area3 = document.getElementById("area3");
            const arr = ["문동은",20,true];

            for(let i in arr){ // i=0 ,1,2..
                area3.innerHTML += arr[i] +"<br>"
            }
            // in 뒤에 배열 제시시
            // 반복문 돌 때마다 0에서 부터 마지막 인덱스 까지 인덱스 수가 담김

            const game ={
                title:"오버워치",
                price:3500,
                language:"한국어지원",
                company:"블리자드"
            };
            area3.innerHTML = " ";
            for(let key in game){ // key = "title" => key = "price" ,...
                
                // .을 이용
                // area3.innerHTML += key + ":" + game.key + "<br>";
                // game 객체에 ket라는 속성을 찾고있음..

                // 대괄호 접근
                area3.innerHTML += key + " : " + game[key] + "<br>";
            }
            // in 뒤에 객체 제시시
            // 반복문을 돌 때마다 해당 객체의 속석명이 앞쪽의 변수에 담김
        }
    </script>

    <hr>

    <h3>* 객체의 메소드 속성</h3>
    <p>객체의 속성 중 함수자료형인 속성을 메소드 라고 부름!</p>

    <button onclick="test4();">실행확인</button>
    <div id="area4" class="area small"></div>

    <script>
        function test4(){
            const area4 = document.getElementById("area4");

            const name = "김완득";

            const dog = {
                name:"오레오",
                kind:"보더콜리",
                eat:function(food){
                    // area4.innerHTML += "eat 메소드 호출됨. <br>"
                    // area4.innerHTML += food;

                    // 보더콜리인 레오가 food를 먹고있어요
                    // 메소드 속성에서 같은 객체내의 속성에 접근하고자 한다면 this.을 붙여야됨!!

                    // area4.innerHTML += kind + "종류인 "+name + "가" + food+"을(를) 먹고 있어요. <br>";
                    area4.innerHTML += dog.kind + "종류인 "+dog.name + "가" + food+"을(를) 먹고 있어요. <br>";
                    area4.innerHTML += this.kind + "종류인 "+name + "가" + food+"을(를) 먹고 있어요. <br>";
                }
            }

            // console.log(dog);
            dog.eat("양고기");
            // alert("ㅋㅋ"); 이거랑 같은 맥락
        }
    </script>


    <hr>

    <h3>* in과 with 키워드</h3>
    <p>
        in : 객체 내에 해당 속성이 있는지 확인해주는 키워드(존재하면 true, 아니면 false 반환)

        with : 객체의 속성 접근시 객체명 제시하는걸 생략할 수 있음(코드를 줄여주는 메소드)
    </p>

    이름 : <input type="text" id="name"><br>
    국어 : <input type="number" id="kor"><br>
    수학 : <input type="number" id="math"><br>
    영어 : <input type="number" id="eng"><br>

    <button onclick="test5();">실행화긴</button>
    <div id="area5" class="area big"></div>

    <script>
        function test5() {
            const area5 = document.getElementById("area5");
            const student = {
                name:document.getElementById("name").value,
                kor:Number(document.getElementById("kor").value),
                math:Number(document.getElementById("math").value),
                eng:Number(document.getElementById("eng").value),
                toString:function(){
                    return this.name + " " + this.kor + " " + this.math + " " + this.eng + " " ;
                },
                getSum:function() {
                    return this.kor +this.math+this.eng
                },
                getAvg:function(){
                    return this.getSum() / 3
                }
            }
            // console.log(student);
            // area5.innerHTML = " ";
            // for(let i in student){
            //     area5.innerHTML += i +" : " + student[i] + "<br>";
            // }
                area5.innerHTML += student + "<br>";
            // "속성명" in 객체명 : 객체에 해당 속성이 존재할 경우 true 아니면 false 반환
            area5.innerHTML += "name 속성이 있니? : "+("name" in student) + "<br>";
            area5.innerHTML += "age 속성이 있니? : "+("age" in student) + "<br>";
            with(student){
            area5.innerHTML += "학생이름 : " + name + "<br>";
            area5.innerHTML += "국어점수 : " + kor + "<br>";
            area5.innerHTML += "수학점수 : " + math + "<br>";
            area5.innerHTML += "영어점수 : " + eng + "<br>";
            area5.innerHTML += "총점 : " + getSum() + "<br>";
            area5.innerHTML += "평점 : " + getAvg() + "<br>";
            }
        }
    </script>


    <hr>

    <h3>* 객체의 속성 추가 및 제거</h3>
    <button onclick="test6();">실행화긴</button>
    <div id="area6" class="area small"></div>

    <script>
        function test6() {
            const area6 = document.getElementById("area6");

            const student ={}; // 빈 객체 생성

            // 객체에 속성 추가
            student.name = "문동은";
            student.hobby=["복수","영계꼬시기"];
            student.dream="복수성공";
            student.age=39;

            student.dream="영계꼬시기(의사로다가)";

            // 메소드 속성 추가
            student.toString = function() {
                const str = "name : "+ this.name + "<br>"
                          + "hobby : " + this.hobby + "<br>"
                          + "dream : " + this.dream + "<br>"
                          + "age : " + this.age + "<br>"
                return str;
            }

                area6.innerHTML += student; 
                // 중복된 이름 속성 존재 불가함. 마지막꺼가 반영됨

                // 객체 속성 제거
                delete(student.hobby);
                area6.innerHTML += student; 
        }
    </script>







    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>
</html>